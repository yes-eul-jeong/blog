---
layout: post
title: "const와 var의 차이"
date: 2025-01-03 01:13:22 +0900
tags: [ javascript, 기초  ]
categories: [study, 기초]
---


# const var let
es6이전엔 var만 있었는데 문제점이 있어 let과 const가 나왔다.

## const
우리가 흔히 const는 상수, let와  var는 변수라 얘기하지만 이 셋을 묶어 변수라 부른다. 왜? 사실 굳이굳이 따지면 const는 변수이기 때문이다.
엥? const는 재할당이 불가능해서 상수 아니야? 라고한다면 사실 const는 ‘재할당이 불가능한, 변하지않는 변수’다. 먼말이지? 싶다면 캑체나 배열 내부의 값은 변경 가능하므로 제약이 조금 있는 변수인것이다. 

## let과 var
let과 var의 차이는 뭘까? 아까 var의 문제를 개선한게  let과 const라고했는데 뭐가 문제였을까?
자바스크립트엔 호이스팅(hoisting)이라는 특징이 있다. 호이스팅을 먼저 알아야 var의 문제점이 뭐고, let을 만든 이유를 알 수 있다. 호이스팅이란 자바스크립트에서 변수와 함수 선언이 해당 스코프 최상단으로 끌어올리는 것을 의미한다. 즉, 코드가 실행되기 전 모든 변수와 함수를 맨 위로 올리는것이다. 조금 더 쉽게 말하면, 스크립트가 실행되기 전에 어떤 변수와 함수가 있는지 자바스크립트가 먼저 파악을 끝낸 후 스크립트가 실행된다는 뜻이다. 
호이스팅에 있어 es6이전 var가 가지는 문제점에 대해 얘기하자면
var는 호이스팅 되었지만 초기화는 되지 않아 선언 전 접근시 undefined가 출력된다. 

```
console.log(seul); // undefined
var seul = "예슬"; //여기가 초기화
console.log(seul); // "예슬"
```

이게 뭐가 문제야? 라고 말한다면, 에러 찾기가 쉽지 않다고 한다. 무조건 undefined가 출력되니까. 그렇담 let은 이걸 개선했다는거야? 네.

<br/>

let도 역시 호이스팅 되지만 TDZ라는 개념이 있단다. 일시적 사각지대의 줄임말인데, 쉽게 말해, 호이스팅 되었지만 흐린눈 하고 있다는 것이다. 

```
console.log(seul) // ReferenceError, 흐린눈 구간
let seul = "예슬" //초기화 되었다! 흐린눈 끝
console.log(seul)//"예슬"
```

말이 어렵지만, 둘 다 호이스팅 되어도 초기화 전에 해당 변수를 출력하면 콘솔에 빨갛게 Error가 출력되는지 회색으로 undefined가 출력되는지가 다른것이다. 개발자 입장에서 그냥 회색으로 undefined되있는거랑 명확히 빨간색으로 어떤 에러인지 알려주는건 다르다! 후자가 명확하기에 수정하기 수월할것이다. 

그럼 왜 var와 let만 구분하냐?
사실 let과 const 둘 다 호이스팅되고, 초기화전 접근시 referenceError가 출력되며 블록스코프를 가진다는것은 똑같다. 객체나 배열 내부에서만 값 변경이 가능하냐, 그냥 값 변경이 가능하냐의 차이다. 

```
//객체 값 바꾸기

const seul = {
first_name :'예슬',
family_name :'정',
age:28,
gender:'female'
}; // const로 선언된 객체
seul.age = 20; // 객체 내부 속성 값 변경
console.log(seul.age); //20, 변경이 된다.

//배열 값 바꾸기

const jaws = ['흥형','한형','슬형'];//const로 선언된 배열
jaws.push('은형');// 배열에 추가
console.log(jaws); // ['흥형','한형','슬형','은형']
jaws = ['흥형','한형','은형'] // TypeError, 이런식으로 자체 재할당은 안된다.
```