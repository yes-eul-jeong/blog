---
layout: post
title: "웹소켓과 HTTPS의 관계"
date: 2025-05-18 13:23:42 +0900
tags: [ study, 기초 ]
categories: []
---


<br/>
<br/>

## HTTPS와 웹소켓의 관계.

갑자기 든 생각.
HTTPS가 보안연결이라매. 근데 이를 끊고 웹소켓 연결해버리면 보안 취약한거아냐??
라고생각했음.

근데 이는 HTTPS와 WS의 통신 과정(방법)을 몰라서 생긴 오해같음. 
그래서 해당 내용에대해 공부해보려함. 


---
<br/>


## 웹소켓과 HTTPS와의 관계
- HTTPS는 웹페이지나 API요청에서 HTTP를 암호화된 SSL/TLS프로토콜로 보호하는것. 
- 웹소켓은 `ws://` (비보안)또는 `wss://` (보안)으로 시작할 수 있는데, `wss://` 는 HTTPS와 동일한 SSL/TLS 암호화를 사용 함. 
- 핸드쉐이크 과정에서 HTTPS로 시작된 연결은 자동으로 `wss://` 로 암호화된 웹소켓 연결로 전환됨.

<br/>
<br/>

## HTTPS → WSS로의 안전한 전환
- HTTPS연결로 클라이언트가 서버에 연결 → 서버와 SSL/TLS 핸드쉐이크 → 연결이 보안된 후 웹소켓 프로토콜 업그레이드. 
- `wss://` 는 HTTPS와 동일한 보안 표준을 사용하므로 보안이 꺠지지 않음. 
- 고로, 클라이언트와 서버간의 데이터는 여전히 SSL/TLS로 보호됨.

<br/>

## 비보안의 경우는?
만약 `ws://` (비보안)으로 연결한다면 암호화 없이 데이터를 전송하기에 보안에 취약할 수 있음.
 민감한 정보를 주고받는 채팅앱에서는 항상 `wss://` (보안웹소켓)을 사용해야함. 

<br/>
<br/>
***! 근데*** 
초기 개발할 때 아직 HTTPS인증 받은 주소 없이 로컬에서 테스트할 땐 SSL인증을 받을 수 없으니(번거로우니) `ws://` 로 연결, 테스트 후  `wss://` 연결을 하기도 한다함!

<br/>


---

혹시 모를 단어 정리

<br/>

ws(WebSocket)

wss(WebSocketSecure)

<br/>

SSL(Secure Sockets Layer)
: 웹통신을 암호화하여 데이터를 보호하는 초기 프로토콜.
현재는 보안상 문제로 거의 사용되지 않고, 최신 버전의 TLS로 대체됨.

TLS(Transport Layer Security)
SSL의 개선된 버전으로, 현재 웹통신에서 표준으로 사용되는 암호화 프로토콜. SSL보다 더 안전하며 HTTPS와 WSS를 포함한 보안통신에 사용됨.

<br/><br/>

---

<br/>
<br/>

### SSL과 TLS의 차이정리.
예전에 로컬에서 개발 테스트하는데 HTTPS연결만 허용되는 상황이라 로컬에서 SSL인증을 강제로 받아야하는 상황이 있었음. 그때 HTTPS와 HTTP의 차이, SSL인증서라는걸 알게됨.
근데 SSL은 구식 보안이고 거의 사용되지 않는다면서. 이건 그거랑 다른건가 싶음.
그래서 추가정리를 해보려함. 

<br/>
<br/>


### **SSL**
- 초기버전의 보안 프로토콜, 웹통신을 암호화하여 사용자 데이터를 보호함.
- 1.0, 2.0, 3.0의 버전이 존재하나, 현재는 모두 취약점이 발견되어 사용이 권장되지 않음. (POODLE Attack)

<br/>
<br/>


### **TLS**
- SSL의 개선된 버전. 더 강력한 보안, 효울성 제공
- 1999년 SSL 3.0의 후속 버전으로 IETF(Internet Engineering Task Force)에서 표준화.
- 버전
  - TLS 1.0: SSL 3.0의 개선 버전(보안 취약점 존재)
  - TLS 1.1 : 보안 개선( 현재 거의 사용 안함)
  - TLS 1.2: 가장 널리 사용되며 강력한 보안 제공
  - TLS 1.3 : 최신 버전(빠르고 안전)

<br/>

<br/>
<br/>

## SSL이 아닌 TLS를 사용해야하는 이유?

1. 보안성
    - 최신 암호화 알고리즘 지원
2. 성능
    - 핸드쉐이크 과정이 훨씬 빠름
    - 클라 ↔ 서버간 통신이 최적화됨
3. 지원 및 호환성
    - 클라우드서비스, API, WebSocket등 모두 TLS를 권장.

<br/>

<br/>

<br/>


## 그럼! 왜! SSL인증서가 아직도 쓰일까!!
→ 사실 **TLS인증서** 임. 그냥 오래된 명칭이라 굳어진 표현일 뿐 실제론 SSL인증서가 아닌 TLS인증서인 경우가 많음. 
여러 클라우드 서비스에서 말하는 SSL인증서도 사실 TLS인증서라함. 
HTTPS또한 역시 TLS기반의 통신이지만 관습적으로 SSL/TLS인증서 라는 용어를 사용.

우리는 여전히 ‘전화를 건다’라는 표현을 씀. 실상 우리는 스마트폰을 이용한 인터넷 통화를 더 많이 하지 전화선을 이용한 전화는 거의 하지 않음. 그럼에도 ‘전화걸어줘’, ‘전화할게'라는 표현을 씀.
SSL또한 역사적 상징성, 상업적 브랜딩으로 용어가 굳어진거임. 
재밌다!